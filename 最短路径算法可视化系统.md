# 最短路径算法可视化系统设计文档（基于 Streamlit）

## 1. 项目背景

在图论和人工智能领域，最短路径算法是路径规划、导航系统、AI 推理等问题的核心基础。
为帮助学习者更好地理解 DFS、BFS 和 A* 等算法的执行过程，本项目设计一个交互式的可视化系统，
使用户可动态探索算法执行过程。

## 2. 技术栈

| 技术 | 用途 |
|------|------|
| Python | 编写后端逻辑 |
| Streamlit | 构建交互式网页应用 |
| NetworkX | 构建和操作图结构 |
| Matplotlib | 绘制图形 |
| Pandas | 保存/加载图数据 |
| NumPy | 计算几何距离 |

## 3. 系统功能模块

### 3.1 算法模块

- **深度优先搜索（DFS）**
  - 使用栈结构，记录访问路径
  - 不保证全局最短路径
  - 动态记录搜索帧（animation_frames）

- **宽度优先搜索（BFS）**
  - 使用堆模拟优先队列，实现加权 BFS（类似 Dijkstra）
  - 可找到最短路径
  - 记录扩展序列

- **A* 算法**
  - 使用启发函数（欧几里得距离）提高搜索效率
  - f(n) = g(n) + h(n)
  - 具备良好的性能和最优性

### 3.2 图生成模块

- 随机生成图结构：
  - 指定节点数量和边密度
  - 使用二维坐标表示节点位置

- 支持图数据保存与加载：
  - 使用 CSV 保存边和坐标
  - 支持图结构的复现

### 3.3 可视化模块

- 使用 Matplotlib + NetworkX 绘图
- 显示：
  - 所有节点与边
  - 起点绿色，终点红色
  - 路径高亮（红色边）
  - 边权重标签
- 可通过滑动条查看每一帧的搜索进程动画

### 3.4 页面结构（基于 Streamlit）

- 左侧：参数设置（节点数、边密度、起止点、算法选择、图生成方式等）
- 主页面：
  - 左侧：图的可视化与搜索过程滑动预览
  - 右侧：算法结果（路径、距离、耗时、扩展节点数）和算法说明
- 文件上传与保存功能：
  - 上传已有图结构
  - 保存当前图为 CSV 文件

## 4. 核心函数设计说明

### dfs(graph, start, end)
- 核心思想：使用 LIFO 栈，递归模拟路径搜索
- 剪枝策略：当前路径超过最短路径则不扩展
- 动画帧：每次扩展时记录当前路径

### bfs(graph, start, end)
- 使用堆结构（heapq）作为优先队列
- 与 Dijkstra 逻辑类似
- 每次扩展一个最短路径的节点，并记录当前路径帧

### astar(graph, start, end, positions)
- 启发函数：基于欧几里得距离估算剩余路径代价
- 每个扩展节点都记录当前路径作为动画帧

## 5. 性能与比较

| 算法 | 保证最短路径 | 时间复杂度 | 空间复杂度 | 特点 |
|------|---------------|------------|------------|------|
| DFS | ❌ | O(V + E) | O(V) | 适合穷举搜索 |
| BFS | ✅ | O(E log V) | O(V) | 改进为 Dijkstra 可求最短路径 |
| A*  | ✅ | O(E log V) | O(V) | 启发式搜索，更高效 |

## 6. 用户交互设计

- 参数选择简洁直观，配有文字提示
- 图生成与加载灵活切换
- 支持错误提示（图不连通、起点非法等）
- 搜索过程动画化：滑动条可动态查看算法行为

